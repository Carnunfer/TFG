%
\begin{isabellebody}%
\setisabellecontext{CancelacionInyectiva}%
%
\isadelimtheory
%
\endisadelimtheory
%
\isatagtheory
%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsection{Cancelación de funciones inyectivas%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\begin{isamarkuptext}%
El siguiente teorema prueba una caracterización de las funciones
 inyectivas, en otras palabras, las funciones inyectivas son
 monomorfismos en la categoría de conjuntos. Un monomorfismo es un
 homomorfismo inyectivo y la categoría de conjuntos es la categoría
 cuyos objetos son los conjuntos.
  
  \begin{teorema}
    $f$ es una función inyectiva, si y solo si, para todas funciones 
 $g$ y $h$  tales que  $f \circ g = f \circ h$ se tiene que $g = h$. 
  \end{teorema}

Vamos a hacer dos lemas de nuestro teorema, ya que podemos la doble 
implicación en dos implicaciones y demostrar cada una de ellas por
 separado.

\begin {lema}
$f$ es una función inyectiva si para todas funciones $g$ y $h$ tales que
 $f \circ g = f \circ h$ se tiene que $g = h.$
\end {lema}
  \begin{demostracion}
    La demostración la haremos por doble implicación: 
\begin {enumerate}
\item Supongamos que tenemos que $f \circ g = f \circ h$, queremos
 demostrar que $g = h$, usando que f es inyectiva tenemos que: \\
$$(f \circ g)(x) = (f \circ h)(x) \Longrightarrow f(g(x)) = f(h(x)) = 
g(x) = h(x)$$
\item Supongamos ahora que $g = h$, queremos demostrar que  $f \circ g
 = f \circ h$. \\
$$(f \circ g)(x) = f(g(x)) = f(h(x)) = (f \circ h)(x)$$
\end {enumerate}
.
  \end{demostracion}

\begin {lema} 
Si para toda $g$ y $h$ tales que $f \circ g =  f \circ h$ se tiene que $g
= h$ entonces f es inyectiva.
\end {lema} 

\begin {demostracion}


Supongamos que el dominio de nuestra función $f$ es distinto del vacío.
Tenemos que demostrar que $\forall a,b$ tales que $f(a) = f(b),$ esto
 implica que $a = b.$ \\
Sean $a,b$ tales que $f(a) = f(b)$, y definamos $g(x) = a  \ \forall x$
 y $h(x) = b \  \forall x$ entonces 
$$(f \circ g) = (f \circ h) \Longrightarrow  f(g(x)) = f(h(x)) \Longrightarrow f(a) = f(b)$$
Por hipótesis tenemos entonces que $a = b,$ como queríamos demostrar.
\end {demostracion}


  Su especificación es la siguiente, pero al igual que hemos hecho en la demostración
a mano vamos a demostrarlo a través de dos lemas:%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{theorem}\isamarkupfalse%
\ caracterizacionineyctiva{\isacharcolon}\isanewline
\ \ {\isachardoublequoteopen}inj\ f\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\isasymforall}g\ h{\isachardot}\ {\isacharparenleft}f\ {\isasymcirc}\ g\ {\isacharequal}\ f\ {\isasymcirc}\ h{\isacharparenright}\ {\isasymlongrightarrow}\ {\isacharparenleft}g\ {\isacharequal}\ h{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{oops}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
Sus lemas son los siguientes:%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ \isanewline
{\isachardoublequoteopen}{\isasymforall}g\ h{\isachardot}\ {\isacharparenleft}f\ {\isasymcirc}\ g\ {\isacharequal}\ f\ {\isasymcirc}\ h\ {\isasymlongrightarrow}\ g\ {\isacharequal}\ h{\isacharparenright}\ {\isasymLongrightarrow}\ inj\ f{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{oops}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ \isanewline
{\isachardoublequoteopen}inj\ f\ {\isasymLongrightarrow}\ {\isacharparenleft}{\isasymforall}g\ h{\isachardot}{\isacharparenleft}f\ {\isasymcirc}\ g\ {\isacharequal}\ f\ {\isasymcirc}\ h{\isacharparenright}\ {\isasymlongrightarrow}\ {\isacharparenleft}g\ {\isacharequal}\ h{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{oops}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
En la especificación anterior, \isa{inj\ f} es una 
  abreviatura de \isa{inj\ f} definida en la teoría
  \href{http://bit.ly/2XuPQx5}{Fun.thy}. Además, contiene la definición
  de \isa{inj{\isacharunderscore}on}
  \begin{itemize}
    \item[] \isa{inj{\isacharunderscore}on\ f\ A\ {\isacharequal}\ {\isacharparenleft}{\isasymforall}x{\isasymin}A{\isachardot}\ {\isasymforall}y{\isasymin}A{\isachardot}\ f\ x\ {\isacharequal}\ f\ y\ {\isasymlongrightarrow}\ x\ {\isacharequal}\ y{\isacharparenright}} \hfill (\isa{inj{\isacharunderscore}on{\isacharunderscore}def})
  \end{itemize} 
  Por su parte, \isa{UNIV} es el conjunto universal definido en la 
  teoría \href{http://bit.ly/2XtHCW6}{Set.thy} como una abreviatura de 
  \isa{top} que, a su vez está definido en la teoría 
  \href{http://bit.ly/2Xyj9Pe}{Orderings.thy} mediante la siguiente
  propiedad 
  \begin{itemize}
    \item[] \isa{\mbox{}\inferrule{\mbox{ordering{\isacharunderscore}top\ less{\isacharunderscore}eq\ less\ top}}{\mbox{less{\isacharunderscore}eq\ a\ top}}} 
      \hfill (\isa{ordering{\isacharunderscore}top{\isachardot}extremum})
  \end{itemize} 
  En el caso de la teoría de conjuntos, la relación de orden es la
  inclusión de conjuntos.

  Presentaremos distintas demostraciones de los lemas. La primera
  demostración es applicativa:%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ inyectivapli{\isacharcolon}\isanewline
\ \ {\isachardoublequoteopen}inj\ f\ {\isasymLongrightarrow}\ {\isacharparenleft}{\isasymforall}g\ h{\isachardot}{\isacharparenleft}f\ {\isasymcirc}\ g\ {\isacharequal}\ f\ {\isasymcirc}\ h{\isacharparenright}\ {\isasymlongrightarrow}\ \ {\isacharparenleft}g\ {\isacharequal}\ h{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ inj{\isacharunderscore}on{\isacharunderscore}def\ fun{\isacharunderscore}eq{\isacharunderscore}iff{\isacharparenright}\ \isanewline
\ \ \isacommand{done}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\ \isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ inyectivapli{\isadigit{2}}{\isacharcolon}\isanewline
{\isachardoublequoteopen}{\isasymforall}g\ h{\isachardot}\ {\isacharparenleft}f\ {\isasymcirc}\ g\ {\isacharequal}\ f\ {\isasymcirc}\ h\ {\isasymlongrightarrow}\ g\ {\isacharequal}\ h{\isacharparenright}\ {\isasymLongrightarrow}\ inj\ f{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule\ injI{\isacharparenright}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ fun{\isacharunderscore}upd{\isacharunderscore}apply\ fun{\isacharunderscore}upd{\isacharunderscore}comp{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
En las demostraciones anteriores se han usado los siguientes
 lemas:
  \begin{itemize}
    \item[] \isa{{\isacharparenleft}f\ {\isacharequal}\ g{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}{\isasymforall}x{\isachardot}\ f\ x\ {\isacharequal}\ g\ x{\isacharparenright}} 
      \hfill (\isa{fun{\isacharunderscore}eq{\isacharunderscore}iff})
  \end{itemize} 
  \begin{itemize}
    \item[] \isa{{\isacharparenleft}f{\isacharparenleft}x\ {\isacharcolon}{\isacharequal}\ y{\isacharparenright}{\isacharparenright}\ z\ {\isacharequal}\ {\isacharparenleft}\textsf{if}\ z\ {\isacharequal}\ x\ \textsf{then}\ y\ \textsf{else}\ f\ z{\isacharparenright}} 
      \hfill (\isa{fun{\isacharunderscore}upd{\isacharunderscore}apply})
  \end{itemize} 
  \begin{itemize}
    \item[] \isa{{\isacharparenleft}f\ {\isacharequal}\ g{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}{\isasymforall}x{\isachardot}\ f\ x\ {\isacharequal}\ g\ x{\isacharparenright}} 
      \hfill (\isa{fun{\isacharunderscore}upd{\isacharunderscore}comp})
  \end{itemize} 

  La demostración applicativa1 sin auto es%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\isanewline
\ \ {\isachardoublequoteopen}inj\ f\ {\isasymLongrightarrow}\ {\isasymforall}g\ h{\isachardot}\ {\isacharparenleft}f\ {\isasymcirc}\ g\ {\isacharequal}\ f\ {\isasymcirc}\ h{\isacharparenright}\ {\isasymlongrightarrow}\ \ {\isacharparenleft}g\ {\isacharequal}\ h{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}unfold\ inj{\isacharunderscore}on{\isacharunderscore}def{\isacharparenright}\ \isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}unfold\ fun{\isacharunderscore}eq{\isacharunderscore}iff{\isacharparenright}\ \isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}unfold\ o{\isacharunderscore}apply{\isacharparenright}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
\ simp{\isacharplus}\isanewline
\ \ \isacommand{done}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ \isanewline
{\isachardoublequoteopen}{\isasymforall}g\ h{\isachardot}\ {\isacharparenleft}f\ {\isasymcirc}\ g\ {\isacharequal}\ f\ {\isasymcirc}\ h\ {\isasymlongrightarrow}\ g\ {\isacharequal}\ h{\isacharparenright}\ {\isasymLongrightarrow}\ inj\ f{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{oops}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
En la demostración anterior se ha introducido los siguientes
  hechos
  \begin{itemize}
    \item \isa{{\isacharparenleft}f\ {\isasymcirc}\ g{\isacharparenright}\ x\ {\isacharequal}\ f\ {\isacharparenleft}g\ x{\isacharparenright}} \hfill (\isa{o{\isacharunderscore}apply})
    \item \isa{{\isasymlbrakk}P\ {\isasymLongrightarrow}\ Q{\isacharsemicolon}\ Q\ {\isasymLongrightarrow}\ P{\isasymrbrakk}\ {\isasymLongrightarrow}\ P\ {\isacharequal}\ Q} \hfill (\isa{iffI})
  \end{itemize} 

  La demostración automática es%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ inyectivaut{\isacharcolon}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}inj\ f{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymforall}g\ h{\isachardot}\ {\isacharparenleft}f\ {\isasymcirc}\ g\ {\isacharequal}\ f\ {\isasymcirc}\ h{\isacharparenright}\ {\isasymlongrightarrow}\ {\isacharparenleft}g\ {\isacharequal}\ h{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ inj{\isacharunderscore}on{\isacharunderscore}def\ fun{\isacharunderscore}eq{\isacharunderscore}iff{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\ \isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ inyectivaut{\isadigit{2}}{\isacharcolon}\ \isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymforall}g\ h{\isachardot}\ {\isacharparenleft}{\isacharparenleft}f\ {\isasymcirc}\ g\ {\isacharequal}\ f\ {\isasymcirc}\ h{\isacharparenright}\ {\isasymlongrightarrow}\ {\isacharparenleft}g\ {\isacharequal}\ h{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}inj\ f{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{oops}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
La demostración declarativa%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ inyectdeclarada{\isacharcolon}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}inj\ f{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymforall}g\ h{\isachardot}{\isacharparenleft}f\ {\isasymcirc}\ g\ {\isacharequal}\ f\ {\isasymcirc}\ h{\isacharparenright}\ {\isasymlongrightarrow}\ {\isacharparenleft}g\ {\isacharequal}\ h{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ g{\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharprime}c\ {\isasymRightarrow}\ {\isacharprime}a{\isachardoublequoteclose}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}h{\isachardot}{\isacharparenleft}f\ {\isasymcirc}\ g\ {\isacharequal}\ f\ {\isasymcirc}\ h{\isacharparenright}\ {\isasymlongrightarrow}\ {\isacharparenleft}g\ {\isacharequal}\ h{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ allI{\isacharparenright}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ h\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}f\ {\isasymcirc}\ g\ {\isacharequal}\ f\ {\isasymcirc}\ h\ {\isasymlongrightarrow}\ {\isacharparenleft}g\ {\isacharequal}\ h{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ impI{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}f\ {\isasymcirc}\ g\ {\isacharequal}\ f\ {\isasymcirc}\ h{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}g\ {\isacharequal}\ h{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ x\isanewline
\ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ \ {\isachardoublequoteopen}{\isacharparenleft}f\ {\isasymcirc}\ g{\isacharparenright}{\isacharparenleft}x{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}f\ {\isasymcirc}\ h{\isacharparenright}{\isacharparenleft}x{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ {\isacharbackquoteopen}f\ {\isasymcirc}\ g\ {\isacharequal}\ f\ {\isasymcirc}\ h{\isacharbackquoteclose}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}f{\isacharparenleft}g{\isacharparenleft}x{\isacharparenright}{\isacharparenright}\ {\isacharequal}\ f{\isacharparenleft}h{\isacharparenleft}x{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \ \ \isacommand{thus}\isamarkupfalse%
\ \ {\isachardoublequoteopen}g{\isacharparenleft}x{\isacharparenright}\ {\isacharequal}\ h{\isacharparenleft}x{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ {\isacharbackquoteopen}inj\ f{\isacharbackquoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}inj{\isacharunderscore}on{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{declare}\isamarkupfalse%
\ {\isacharbrackleft}{\isacharbrackleft}show{\isacharunderscore}types{\isacharbrackright}{\isacharbrackright}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ inyectdeclarada{\isadigit{2}}{\isacharcolon}\isanewline
\ \ \isakeyword{fixes}\ f\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharprime}b\ {\isasymRightarrow}\ {\isacharprime}c{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymforall}{\isacharparenleft}g\ {\isacharcolon}{\isacharcolon}\ {\isacharprime}a\ {\isasymRightarrow}\ {\isacharprime}b{\isacharparenright}\ {\isacharparenleft}h\ {\isacharcolon}{\isacharcolon}\ {\isacharprime}a\ {\isasymRightarrow}\ {\isacharprime}b{\isacharparenright}{\isachardot}\isanewline
\ \ \ \ \ \ \ \ \ {\isacharparenleft}f\ {\isasymcirc}\ g\ {\isacharequal}\ f\ {\isasymcirc}\ h\ {\isasymlongrightarrow}\ g\ {\isacharequal}\ h{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isakeyword{shows}\ {\isachardoublequoteopen}\ inj\ f{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ injI{\isacharparenright}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ a\ b\ \isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isadigit{3}}{\isacharcolon}\ {\isachardoublequoteopen}f\ a\ {\isacharequal}\ f\ b\ {\isachardoublequoteclose}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}g\ {\isacharequal}\ {\isachardoublequoteopen}{\isasymlambda}x\ {\isacharcolon}{\isacharcolon}\ {\isacharprime}a{\isachardot}\ a{\isachardoublequoteclose}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}h\ {\isacharequal}\ {\isachardoublequoteopen}{\isasymlambda}x\ {\isacharcolon}{\isacharcolon}\ {\isacharprime}a{\isachardot}\ b{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}{\isacharparenleft}h\ {\isacharcolon}{\isacharcolon}\ {\isacharprime}a\ {\isasymRightarrow}\ {\isacharprime}b{\isacharparenright}{\isachardot}\ {\isacharparenleft}f\ {\isasymcirc}\ {\isacharquery}g\ {\isacharequal}\ f\ {\isasymcirc}\ h\ {\isasymlongrightarrow}\ {\isacharquery}g\ {\isacharequal}\ h{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ allE{\isacharparenright}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}\ {\isacharparenleft}f\ {\isasymcirc}\ {\isacharquery}g\ {\isacharequal}\ f\ {\isasymcirc}\ {\isacharquery}h\ {\isasymlongrightarrow}\ {\isacharquery}g\ {\isacharequal}\ {\isacharquery}h{\isacharparenright}{\isachardoublequoteclose}\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ allE{\isacharparenright}\ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isadigit{2}}{\isacharcolon}\ {\isachardoublequoteopen}f\ {\isasymcirc}\ {\isacharquery}g\ {\isacharequal}\ f\ {\isasymcirc}\ {\isacharquery}h{\isachardoublequoteclose}\ \isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ \isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ x\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}\ {\isacharparenleft}f\ {\isasymcirc}\ {\isacharparenleft}{\isasymlambda}x\ {\isacharcolon}{\isacharcolon}\ {\isacharprime}a{\isachardot}\ a{\isacharparenright}{\isacharparenright}\ x\ {\isacharequal}\ f{\isacharparenleft}a{\isacharparenright}\ {\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\isachardot}{\isachardot}\ {\isacharequal}\ f{\isacharparenleft}b{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\isachardot}{\isachardot}\ {\isacharequal}\ \ {\isacharparenleft}f\ {\isasymcirc}\ {\isacharparenleft}{\isasymlambda}x\ {\isacharcolon}{\isacharcolon}\ {\isacharprime}a{\isachardot}\ b{\isacharparenright}{\isacharparenright}\ x{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}\ {\isacharparenleft}f\ {\isasymcirc}\ {\isacharparenleft}{\isasymlambda}x\ {\isacharcolon}{\isacharcolon}\ {\isacharprime}a{\isachardot}\ a{\isacharparenright}{\isacharparenright}\ x\ {\isacharequal}\ \ {\isacharparenleft}f\ {\isasymcirc}\ {\isacharparenleft}{\isasymlambda}x\ {\isacharcolon}{\isacharcolon}\ {\isacharprime}a{\isachardot}\ b{\isacharparenright}{\isacharparenright}\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}g\ {\isacharequal}\ {\isacharquery}h{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ {\isadigit{1}}\ {\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ mp{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}\ a\ {\isacharequal}\ b{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ meson\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
Otra demostración declarativa es%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ inyectdetalladacorta{\isadigit{1}}{\isacharcolon}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}inj\ f{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isacharparenleft}f\ {\isasymcirc}\ g\ {\isacharequal}\ f\ {\isasymcirc}\ h{\isacharparenright}\ {\isasymlongrightarrow}{\isacharparenleft}g\ {\isacharequal}\ h{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ \isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}f\ {\isasymcirc}\ g\ {\isacharequal}\ f\ {\isasymcirc}\ h{\isachardoublequoteclose}\ \isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}g\ {\isacharequal}\ h{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ {\isacharbackquoteopen}inj\ f{\isacharbackquoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ inj{\isacharunderscore}on{\isacharunderscore}def\ fun{\isacharunderscore}eq{\isacharunderscore}iff{\isacharparenright}\ \isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ inyectdetalladacorta{\isadigit{2}}{\isacharcolon}\isanewline
\ \ \isakeyword{fixes}\ f\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharprime}b\ {\isasymRightarrow}\ {\isacharprime}c{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymforall}{\isacharparenleft}g\ {\isacharcolon}{\isacharcolon}\ {\isacharprime}a\ {\isasymRightarrow}\ {\isacharprime}b{\isacharparenright}\ {\isacharparenleft}h\ {\isacharcolon}{\isacharcolon}\ {\isacharprime}a\ {\isasymRightarrow}\ {\isacharprime}b{\isacharparenright}{\isachardot}\isanewline
\ \ \ \ \ \ \ \ \ {\isacharparenleft}f\ {\isasymcirc}\ g\ {\isacharequal}\ f\ {\isasymcirc}\ h\ {\isasymlongrightarrow}\ g\ {\isacharequal}\ h{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}\ inj\ f{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ injI{\isacharparenright}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ a\ b\ \isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}f\ a\ {\isacharequal}\ f\ b\ {\isachardoublequoteclose}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}g\ {\isacharequal}\ {\isachardoublequoteopen}{\isasymlambda}x\ {\isacharcolon}{\isacharcolon}\ {\isacharprime}a{\isachardot}\ a{\isachardoublequoteclose}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}h\ {\isacharequal}\ {\isachardoublequoteopen}{\isasymlambda}x\ {\isacharcolon}{\isacharcolon}\ {\isacharprime}a{\isachardot}\ b{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isadigit{2}}{\isacharcolon}\ {\isachardoublequoteopen}\ {\isacharparenleft}f\ {\isasymcirc}\ {\isacharquery}g\ {\isacharequal}\ f\ {\isasymcirc}\ {\isacharquery}h\ {\isasymlongrightarrow}\ {\isacharquery}g\ {\isacharequal}\ {\isacharquery}h{\isacharparenright}{\isachardoublequoteclose}\ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isadigit{3}}{\isacharcolon}\ {\isachardoublequoteopen}f\ {\isasymcirc}\ {\isacharquery}g\ {\isacharequal}\ f\ {\isasymcirc}\ {\isacharquery}h{\isachardoublequoteclose}\ \isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ \isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ x\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}\ {\isacharparenleft}f\ {\isasymcirc}\ {\isacharparenleft}{\isasymlambda}x\ {\isacharcolon}{\isacharcolon}\ {\isacharprime}a{\isachardot}\ a{\isacharparenright}{\isacharparenright}\ x\ {\isacharequal}\ f{\isacharparenleft}a{\isacharparenright}\ {\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\isachardot}{\isachardot}\ {\isacharequal}\ f{\isacharparenleft}b{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ {\isadigit{1}}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\isachardot}{\isachardot}\ {\isacharequal}\ \ {\isacharparenleft}f\ {\isasymcirc}\ {\isacharparenleft}{\isasymlambda}x\ {\isacharcolon}{\isacharcolon}\ {\isacharprime}a{\isachardot}\ b{\isacharparenright}{\isacharparenright}\ x{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}\ {\isacharparenleft}f\ {\isasymcirc}\ {\isacharparenleft}{\isasymlambda}x\ {\isacharcolon}{\isacharcolon}\ {\isacharprime}a{\isachardot}\ a{\isacharparenright}{\isacharparenright}\ x\ {\isacharequal}\ \ {\isacharparenleft}f\ {\isasymcirc}\ {\isacharparenleft}{\isasymlambda}x\ {\isacharcolon}{\isacharcolon}\ {\isacharprime}a{\isachardot}\ b{\isacharparenright}{\isacharparenright}\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ \ {\isachardoublequoteopen}\ a\ {\isacharequal}\ b{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ {\isadigit{2}}\ {\isadigit{3}}\ \isacommand{by}\isamarkupfalse%
\ meson\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
En consecuencia, la demostración de nuestro teorema:%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{theorem}\isamarkupfalse%
\ caracterizacioninyectiva{\isacharcolon}\isanewline
\ \ {\isachardoublequoteopen}inj\ f\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\isasymforall}g\ h{\isachardot}\ {\isacharparenleft}f\ {\isasymcirc}\ g\ {\isacharequal}\ f\ {\isasymcirc}\ h{\isacharparenright}\ {\isasymlongrightarrow}\ {\isacharparenleft}g\ {\isacharequal}\ h{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ inyectdetalladacorta{\isadigit{1}}\ inyectdetalladacorta{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isadelimtheory
%
\endisadelimtheory
%
\isatagtheory
%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\end{isabellebody}%
\endinput
%:%file=~/Escritorio/TFG/CancelacionInyectiva.thy%:%
%:%24=8%:%
%:%36=10%:%
%:%37=11%:%
%:%38=12%:%
%:%39=13%:%
%:%40=14%:%
%:%41=15%:%
%:%42=16%:%
%:%43=17%:%
%:%44=18%:%
%:%45=19%:%
%:%46=20%:%
%:%47=21%:%
%:%48=22%:%
%:%49=23%:%
%:%50=24%:%
%:%51=25%:%
%:%52=26%:%
%:%53=27%:%
%:%54=28%:%
%:%55=29%:%
%:%56=30%:%
%:%57=31%:%
%:%58=32%:%
%:%59=33%:%
%:%60=34%:%
%:%61=35%:%
%:%62=36%:%
%:%63=37%:%
%:%64=38%:%
%:%65=39%:%
%:%66=40%:%
%:%67=41%:%
%:%68=42%:%
%:%69=43%:%
%:%70=44%:%
%:%71=45%:%
%:%72=46%:%
%:%73=47%:%
%:%74=48%:%
%:%75=49%:%
%:%76=50%:%
%:%77=51%:%
%:%78=52%:%
%:%79=53%:%
%:%80=54%:%
%:%81=55%:%
%:%82=56%:%
%:%83=57%:%
%:%84=58%:%
%:%85=59%:%
%:%86=60%:%
%:%87=61%:%
%:%88=62%:%
%:%90=65%:%
%:%91=65%:%
%:%92=66%:%
%:%95=67%:%
%:%99=67%:%
%:%109=71%:%
%:%111=73%:%
%:%112=73%:%
%:%113=74%:%
%:%116=75%:%
%:%120=75%:%
%:%126=75%:%
%:%129=76%:%
%:%130=77%:%
%:%131=77%:%
%:%132=78%:%
%:%135=79%:%
%:%139=79%:%
%:%149=82%:%
%:%150=83%:%
%:%151=84%:%
%:%152=85%:%
%:%153=86%:%
%:%154=87%:%
%:%155=88%:%
%:%156=89%:%
%:%157=90%:%
%:%158=91%:%
%:%159=92%:%
%:%160=93%:%
%:%161=94%:%
%:%162=95%:%
%:%163=96%:%
%:%164=97%:%
%:%165=98%:%
%:%166=99%:%
%:%167=100%:%
%:%168=101%:%
%:%169=102%:%
%:%171=104%:%
%:%172=104%:%
%:%173=105%:%
%:%176=106%:%
%:%180=106%:%
%:%181=106%:%
%:%182=107%:%
%:%188=107%:%
%:%191=108%:%
%:%192=109%:%
%:%193=109%:%
%:%194=110%:%
%:%197=111%:%
%:%201=111%:%
%:%202=111%:%
%:%203=112%:%
%:%204=112%:%
%:%213=115%:%
%:%214=116%:%
%:%215=117%:%
%:%216=118%:%
%:%217=119%:%
%:%218=120%:%
%:%219=121%:%
%:%220=122%:%
%:%221=123%:%
%:%222=124%:%
%:%223=125%:%
%:%224=126%:%
%:%225=127%:%
%:%226=128%:%
%:%227=129%:%
%:%228=130%:%
%:%230=132%:%
%:%231=132%:%
%:%232=133%:%
%:%235=134%:%
%:%239=134%:%
%:%240=134%:%
%:%241=135%:%
%:%242=135%:%
%:%243=136%:%
%:%244=136%:%
%:%245=137%:%
%:%246=137%:%
%:%247=138%:%
%:%253=138%:%
%:%256=139%:%
%:%257=140%:%
%:%258=140%:%
%:%259=141%:%
%:%262=142%:%
%:%266=142%:%
%:%276=144%:%
%:%277=145%:%
%:%278=146%:%
%:%279=147%:%
%:%280=148%:%
%:%281=149%:%
%:%282=150%:%
%:%283=151%:%
%:%285=153%:%
%:%286=153%:%
%:%287=154%:%
%:%288=155%:%
%:%291=156%:%
%:%295=156%:%
%:%296=156%:%
%:%297=157%:%
%:%298=157%:%
%:%303=157%:%
%:%306=158%:%
%:%307=159%:%
%:%308=159%:%
%:%309=160%:%
%:%310=161%:%
%:%313=162%:%
%:%317=162%:%
%:%318=162%:%
%:%319=163%:%
%:%329=165%:%
%:%331=169%:%
%:%332=169%:%
%:%333=170%:%
%:%334=171%:%
%:%341=172%:%
%:%342=172%:%
%:%343=173%:%
%:%344=173%:%
%:%345=174%:%
%:%346=174%:%
%:%347=175%:%
%:%348=175%:%
%:%349=176%:%
%:%350=176%:%
%:%351=177%:%
%:%352=177%:%
%:%353=178%:%
%:%354=178%:%
%:%355=179%:%
%:%356=179%:%
%:%357=180%:%
%:%358=180%:%
%:%359=181%:%
%:%360=181%:%
%:%361=182%:%
%:%362=182%:%
%:%363=183%:%
%:%364=183%:%
%:%365=183%:%
%:%366=183%:%
%:%367=184%:%
%:%368=184%:%
%:%369=184%:%
%:%370=184%:%
%:%371=185%:%
%:%372=185%:%
%:%373=185%:%
%:%374=185%:%
%:%375=186%:%
%:%376=186%:%
%:%377=187%:%
%:%378=187%:%
%:%379=188%:%
%:%380=188%:%
%:%381=189%:%
%:%387=189%:%
%:%390=190%:%
%:%391=191%:%
%:%392=191%:%
%:%393=192%:%
%:%394=193%:%
%:%395=193%:%
%:%396=194%:%
%:%397=195%:%
%:%398=196%:%
%:%399=197%:%
%:%406=198%:%
%:%407=198%:%
%:%408=199%:%
%:%409=199%:%
%:%410=200%:%
%:%411=200%:%
%:%412=201%:%
%:%413=201%:%
%:%414=202%:%
%:%415=202%:%
%:%416=203%:%
%:%417=203%:%
%:%418=204%:%
%:%419=204%:%
%:%420=204%:%
%:%421=205%:%
%:%422=205%:%
%:%423=205%:%
%:%424=206%:%
%:%425=206%:%
%:%426=207%:%
%:%427=207%:%
%:%428=208%:%
%:%429=208%:%
%:%430=209%:%
%:%431=209%:%
%:%432=209%:%
%:%433=210%:%
%:%434=210%:%
%:%435=210%:%
%:%436=210%:%
%:%437=210%:%
%:%438=211%:%
%:%439=211%:%
%:%440=211%:%
%:%441=211%:%
%:%442=212%:%
%:%443=212%:%
%:%444=212%:%
%:%445=213%:%
%:%446=213%:%
%:%447=214%:%
%:%448=214%:%
%:%449=215%:%
%:%450=215%:%
%:%451=215%:%
%:%452=215%:%
%:%453=216%:%
%:%454=216%:%
%:%455=216%:%
%:%456=216%:%
%:%457=217%:%
%:%467=221%:%
%:%469=223%:%
%:%470=223%:%
%:%471=224%:%
%:%472=225%:%
%:%479=226%:%
%:%480=226%:%
%:%481=227%:%
%:%482=227%:%
%:%483=228%:%
%:%484=228%:%
%:%485=228%:%
%:%486=228%:%
%:%487=228%:%
%:%488=229%:%
%:%494=229%:%
%:%497=230%:%
%:%498=231%:%
%:%499=231%:%
%:%500=232%:%
%:%501=233%:%
%:%502=234%:%
%:%503=235%:%
%:%510=236%:%
%:%511=236%:%
%:%512=237%:%
%:%513=237%:%
%:%514=238%:%
%:%515=238%:%
%:%516=239%:%
%:%517=239%:%
%:%518=240%:%
%:%519=240%:%
%:%520=241%:%
%:%521=241%:%
%:%522=241%:%
%:%523=241%:%
%:%524=242%:%
%:%525=242%:%
%:%526=243%:%
%:%527=243%:%
%:%528=244%:%
%:%529=244%:%
%:%530=245%:%
%:%531=245%:%
%:%532=245%:%
%:%533=246%:%
%:%534=246%:%
%:%535=246%:%
%:%536=246%:%
%:%537=246%:%
%:%538=247%:%
%:%539=247%:%
%:%540=247%:%
%:%541=247%:%
%:%542=248%:%
%:%543=248%:%
%:%544=248%:%
%:%545=249%:%
%:%546=249%:%
%:%547=250%:%
%:%548=250%:%
%:%549=251%:%
%:%550=251%:%
%:%551=251%:%
%:%552=251%:%
%:%553=252%:%
%:%563=256%:%
%:%565=258%:%
%:%566=258%:%
%:%567=259%:%
%:%570=260%:%
%:%574=260%:%
%:%575=260%:%
%:%576=260%:%
%:%577=261%:%
%:%578=262%:%
%:%579=263%:%
%:%580=264%:%